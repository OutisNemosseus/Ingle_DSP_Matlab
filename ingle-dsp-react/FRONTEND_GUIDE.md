# 前端组件使用指南

## 📦 新数据结构已集成

所有115个DSP程序已经从章节文件拆分为独立文件，并已集成到React组件中。

## 🎨 UI功能

### 主页 (ProgramList)

#### 1. **分组视图切换**
- **📚 Chapter视图** (默认): 按章节分组显示程序
  - Chapter 02 (11 programs)
  - Chapter 03 (23 programs)
  - Chapter 04 (6 programs)
  - ...

- **📂 Category视图**: 按类别分组显示
  - DSP - Chapter 02
  - DSP - Chapter 03
  - ...

#### 2. **搜索功能**
- 输入关键字搜索程序名称、描述或ID
- 实时过滤结果

#### 3. **标签过滤**
- 点击标签筛选特定类型的程序
- 支持多标签组合过滤
- 标签包括: chapter02, chapter03, dsp, filter, fourier等

#### 4. **程序卡片**
每个程序卡片显示：
- 程序标题 (displayName)
- 程序ID
- 描述
- 章节徽章
- 相关标签

## 📁 文件结构

```
src/
├── data/
│   ├── programs/          # 115个独立程序文件
│   │   ├── ex020100.js
│   │   ├── ex020200.js
│   │   └── ...
│   ├── index.js           # 汇总导入
│   └── matlab/            # 原始章节文件(备份)
├── components/
│   ├── ProgramList.jsx    # 程序列表组件(已更新)
│   ├── ProgramList.css    # 样式(已添加分组按钮样式)
│   ├── IDELayout.jsx      # IDE布局
│   └── ...
└── App.jsx                # 主应用(已更新导入)
```

## 🔧 组件更新内容

### App.jsx
```javascript
// 更新了导入路径
import programs from './data/index.js'  // ✅ 新路径
```

### ProgramList.jsx
```javascript
// 新增功能:
- [groupBy] state: 'chapter' | 'category'
- 智能分组逻辑
- 分组按钮UI
- 排序优化(章节按数字顺序)
```

### ProgramList.css
```css
/* 新增样式: */
.group-by-section { ... }      // 分组区域容器
.group-by-buttons { ... }      // 按钮组
.group-by-button { ... }       // 单个按钮
.group-by-button.active { ... }// 激活状态
```

## 🚀 运行应用

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

## 🎯 使用流程

1. **启动应用** → 看到程序列表
2. **默认按章节分组** → Chapter 02, 03, 04...
3. **切换到类别视图** → 点击"📂 Category"按钮
4. **搜索程序** → 输入关键字实时过滤
5. **标签过滤** → 点击感兴趣的标签
6. **查看程序** → 点击卡片进入IDE界面
7. **运行代码** → Pyodide执行Python代码并显示结果

## 📊 数据流

```
programs/ex*.js (115个文件)
         ↓
    index.js (汇总导入)
         ↓
      App.jsx (全局数据)
         ↓
  ProgramList.jsx (显示列表)
         ↓
   IDELayout.jsx (运行程序)
```

## 🎨 UI预览

### Chapter视图 (默认)
```
┌─────────────────────────────────────┐
│  Group by: [📚 Chapter*] [📂 Category] │
├─────────────────────────────────────┤
│                                      │
│  ▶ Chapter 02 (11 programs)         │
│     ┌──────┐ ┌──────┐ ┌──────┐     │
│     │ 2.01 │ │ 2.02 │ │ 2.03 │ ... │
│     └──────┘ └──────┘ └──────┘     │
│                                      │
│  ▶ Chapter 03 (23 programs)         │
│     ┌──────┐ ┌──────┐ ┌──────┐     │
│     │ 3.03 │ │ 3.04 │ │ 3.05 │ ... │
│     └──────┘ └──────┘ └──────┘     │
│                                      │
│  ▶ Chapter 04 (6 programs)          │
│     ...                              │
└─────────────────────────────────────┘
```

### Category视图
```
┌─────────────────────────────────────┐
│  Group by: [📚 Chapter] [📂 Category*] │
├─────────────────────────────────────┤
│                                      │
│  ▶ DSP - Chapter 02                 │
│     ┌──────┐ ┌──────┐              │
│     │ 2.01 │ │ 2.02 │ ...          │
│     └──────┘ └──────┘              │
│                                      │
│  ▶ DSP - Chapter 03                 │
│     ┌──────┐ ┌──────┐              │
│     │ 3.03 │ │ 3.04 │ ...          │
│     └──────┘ └──────┘              │
└─────────────────────────────────────┘
```

## ✨ 特性亮点

1. **✅ 模块化**: 每个程序独立文件，易于维护
2. **✅ 灵活分组**: 支持按章节或类别查看
3. **✅ 强大搜索**: 实时搜索+标签过滤
4. **✅ 保留章节**: 数据中保留chapter字段用于分组
5. **✅ 美观UI**: 渐变色、过渡动画、响应式设计
6. **✅ Python修复**: 96/115程序的Python代码已自动修复

## 🐛 已知问题

- `ex020100.js`: JSON解析错误，需要手动修复（已标记）
- 其他114个程序运行正常

## 📝 下一步

1. 测试应用运行
2. 修复ex020100.js的JSON错误
3. 根据需要调整UI样式
4. 添加更多功能（如收藏、笔记等）

## 💡 提示

- 首次加载Pyodide需要下载约50MB，之后会缓存
- Python代码在浏览器中运行，无需后端服务器
- 所有绘图使用Matplotlib生成base64图片
- 支持实时代码编辑和重新运行
